"""
Скрипт для инициализации данных страниц About, Contacts, FAQ
"""
from app.database import SessionLocal
from app.models.page_content import AboutSection, TeamMember, ContactInfo, FAQItem

def init_pages_data():
    db = SessionLocal()
    try:
        # Проверяем, есть ли уже данные
        if db.query(AboutSection).count() > 0:
            print("Данные страниц уже инициализированы")
            return

        # About Sections
        about_sections = [
            AboutSection(
                title="НАША ИСТОРИЯ",
                description="Liberty — это современный бренд модной одежды, созданный для тех, кто ценит качество, стиль и индивидуальность. Мы начали свой путь с простой идеи: создавать одежду, которая сочетает в себе элегантность и комфорт.",
                image="https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=600&fit=crop",
                reverse=False,
                order=1
            ),
            AboutSection(
                title="НАШИ ЦЕННОСТИ",
                description="Мы верим в устойчивую моду, качественные материалы и этичное производство. Каждая коллекция создается с вниманием к деталям и уважением к окружающей среде. Мы стремимся создавать не просто одежду, а стиль жизни.",
                image="https://images.unsplash.com/photo-1445205170230-053b83016050?w=800&h=600&fit=crop",
                reverse=True,
                order=2
            ),
            AboutSection(
                title="НАША МИССИЯ",
                description="Наша миссия — вдохновлять людей на самовыражение через моду. Мы создаем коллекции, которые подчеркивают индивидуальность каждого клиента, независимо от возраста, стиля или образа жизни.",
                image="https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=800&h=600&fit=crop",
                reverse=False,
                order=3
            ),
        ]

        # Team Members
        team_members = [
            TeamMember(
                name="Команда дизайнеров",
                role="Творческое видение",
                image="https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400&h=400&fit=crop",
                order=1
            ),
            TeamMember(
                name="Производство",
                role="Качество и мастерство",
                image="https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?w=400&h=400&fit=crop",
                order=2
            ),
            TeamMember(
                name="Клиентский сервис",
                role="Забота о клиентах",
                image="https://images.unsplash.com/photo-1552664730-d307ca884978?w=400&h=400&fit=crop",
                order=3
            ),
        ]

        # Contact Info
        contact_info = [
            ContactInfo(
                icon_type="map",
                title="Адрес",
                content="Ташкент, Узбекистан",
                details="Центральный район, ул. Навруз, 15",
                order=1
            ),
            ContactInfo(
                icon_type="phone",
                title="Телефон",
                content="+998 94 455 49 47",
                details="Пн-Сб: 9:00 - 20:30",
                order=2
            ),
            ContactInfo(
                icon_type="email",
                title="Email",
                content="info@liberty.uz",
                details="Ответим в течение 24 часов",
                order=3
            ),
            ContactInfo(
                icon_type="clock",
                title="Часы работы",
                content="Пн-Сб: 9:00 - 20:30",
                details="Вс: Выходной",
                order=4
            ),
        ]

        # FAQ Items
        faq_items = [
            FAQItem(
                question="Как оформить заказ?",
                answer="Выберите понравившиеся товары, добавьте их в корзину и перейдите к оформлению заказа. Заполните необходимые данные для доставки и выберите способ оплаты. После подтверждения заказа вы получите уведомление на указанный email.",
                order=1
            ),
            FAQItem(
                question="Какие способы доставки доступны?",
                answer="Мы предлагаем несколько вариантов доставки: курьерская доставка по Ташкенту (1-2 дня), доставка по Узбекистану (3-5 дней), самовывоз из нашего магазина. Стоимость доставки рассчитывается при оформлении заказа.",
                order=2
            ),
            FAQItem(
                question="Как вернуть или обменять товар?",
                answer="Вы можете вернуть или обменять товар в течение 30 дней с момента покупки при условии сохранения товарного вида, бирок и упаковки. Для возврата необходимо заполнить форму на сайте или связаться с нашим отделом обслуживания клиентов.",
                order=3
            ),
            FAQItem(
                question="Какие способы оплаты принимаются?",
                answer="Мы принимаем оплату наличными при получении, банковскими картами (Visa, Mastercard, Uzcard, Humo), а также через электронные кошельки. Все платежи защищены и обрабатываются через безопасные платежные системы.",
                order=4
            ),
            FAQItem(
                question="Как узнать размер товара?",
                answer="На странице каждого товара размещена подробная таблица размеров. Мы рекомендуем измерить свои параметры и сравнить их с таблицей. Если у вас возникли вопросы, наши консультанты помогут подобрать правильный размер.",
                order=5
            ),
            FAQItem(
                question="Есть ли скидки и акции?",
                answer="Да, мы регулярно проводим акции и распродажи. Подпишитесь на нашу рассылку, чтобы первыми узнавать о новых предложениях и специальных скидках. Также следите за нашими социальными сетями.",
                order=6
            ),
            FAQItem(
                question="Как отследить статус заказа?",
                answer="После оформления заказа вы получите номер заказа и ссылку для отслеживания. Вы можете отслеживать статус заказа в личном кабинете или связавшись с нашим отделом обслуживания клиентов по телефону или email.",
                order=7
            ),
            FAQItem(
                question="Можно ли заказать товар, которого нет в наличии?",
                answer="Если товар временно отсутствует, вы можете оставить заявку на уведомление о поступлении. Как только товар появится в наличии, мы сразу же сообщим вам об этом на указанный email или телефон.",
                order=8
            ),
            FAQItem(
                question="Как ухаживать за изделиями?",
                answer="Рекомендации по уходу указаны на бирке каждого изделия. Обычно мы рекомендуем стирку при температуре 30-40°C, деликатный режим, избегать отбеливания и сушить вдали от прямых солнечных лучей. Для некоторых материалов может потребоваться химчистка.",
                order=9
            ),
            FAQItem(
                question="Как связаться с отделом обслуживания клиентов?",
                answer="Вы можете связаться с нами по телефону +998 94 455 49 47, написать на email info@liberty.uz или воспользоваться формой обратной связи на сайте. Мы работаем с понедельника по субботу с 9:00 до 20:30.",
                order=10
            ),
        ]

        # Добавляем все данные
        for section in about_sections:
            db.add(section)
        for member in team_members:
            db.add(member)
        for contact in contact_info:
            db.add(contact)
        for item in faq_items:
            db.add(item)

        db.commit()
        print("✅ Данные страниц успешно инициализированы!")
        print(f"  - Секций About: {len(about_sections)}")
        print(f"  - Членов команды: {len(team_members)}")
        print(f"  - Контактов: {len(contact_info)}")
        print(f"  - FAQ элементов: {len(faq_items)}")

    except Exception as e:
        db.rollback()
        print(f"❌ Ошибка при инициализации данных: {e}")
        raise
    finally:
        db.close()

if __name__ == "__main__":
    init_pages_data()

